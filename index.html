<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Love I Carry Within Me</title>
  <link rel="stylesheet" href="accept.css" />
</head>

<body>
  <!-- Background audio -->
  <audio id="bg-audio" loop>
    <source src="index-song.mp3" type="audio/mpeg">
  </audio>

  <!-- Popup to allow music -->
  <div id="audio-popup">
    <p>Tap to Play Music ðŸŽµ</p>
    <button id="start-music">Play</button>
  </div>

  <!-- Manual play/pause button -->
  <div class="audio-controls">
    <button id="play-pause" aria-label="Play background music">Play â™«</button>
  </div>

  <main class="page">
    <div class="container" role="main" aria-labelledby="headline">
      <h1 id="headline" class="headline">YOU know what?</h1>
      <p class="lead">
        Whenever I look at you, suddenly I forget all the things.
      </p>

      <div class="card-row">
        <div class="flip-card" tabindex="0">
          <div class="flip-card-inner">
            <div class="flip-card-front"><p class="small">A little secret</p></div>
            <div class="flip-card-back"><p class="small">Just read the story</p></div>
          </div>
        </div>

        <a class="btn-read" href="Story.html">Read the Story â†’</a>
      </div>

      <p class="credit">â€” Written with â™¥ by Anshika</p>
    </div>
  </main>

  <!-- ===================== MUSIC LOGIC ===================== -->
  <script>
    const audio = document.getElementById('bg-audio');
    const popup = document.getElementById('audio-popup');
    const startBtn = document.getElementById('start-music');
    const playPause = document.getElementById('play-pause');
    let isPlaying = false;

    // Enable audio through popup
    startBtn.addEventListener('click', () => {
      audio.play().then(() => {
        popup.style.display = "none";
        playPause.textContent = "Pause â™«";
        isPlaying = true;
      });
    });

    // Manual play/pause button
    playPause.addEventListener('click', () => {
      if (isPlaying) {
        audio.pause();
        playPause.textContent = "Play â™«";
        isPlaying = false;
      } else {
        audio.play();
        playPause.textContent = "Pause â™«";
        isPlaying = true;
        popup.style.display = "none"; // hide popup after manual play
      }
    });
  </script>

</body>
</html>
